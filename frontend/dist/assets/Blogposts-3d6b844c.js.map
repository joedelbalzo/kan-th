{"version":3,"file":"Blogposts-3d6b844c.js","sources":["../../src/Blog/Blogposts.jsx"],"sourcesContent":["//React Imports\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\nimport parse from \"html-react-parser\";\r\nimport DOMPurify from \"dompurify\";\r\n\r\n//Component Imports\r\n\r\nimport ShareButtons from \"../ShareButtons\";\r\nimport SideNav from \"./SideNav\";\r\nimport { FadeComponent } from \"../assets/FadeComponent\";\r\nimport Loading from \"../assets/Loading\";\r\n\r\n//Store Imports\r\n// import { fetchPublishedBlogposts } from \"./store\";\r\n\r\n//Function Imports\r\nimport { readableDate, pics } from \"../functions\";\r\n// import { Fade } from \"@mui/material\";\r\n\r\nconst Blogposts = () => {\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const blogposts = useSelector((state) => state.blogposts.allBlogposts);\r\n\r\n  // useEffect(() => {\r\n  //   if (!blogposts) {\r\n  //     return <Loading />;\r\n  //   } else {\r\n  //     setLoading(false);\r\n  //   }\r\n  // }, [blogposts]);\r\n\r\n  if (!blogposts) {\r\n    return null;\r\n  }\r\n\r\n  if (!blogposts[0]) {\r\n    return null;\r\n  }\r\n\r\n  const sampleText = (content) => {\r\n    content = DOMPurify.sanitize(content);\r\n    const arrContent = content.split(\" \");\r\n    content = arrContent.splice(0, 25).join(\" \");\r\n    return parse(content);\r\n  };\r\n\r\n  let headlinerPic;\r\n  for (let image of blogposts[0].images) {\r\n    if (image.position === \"home\") {\r\n      headlinerPic = image;\r\n    }\r\n  }\r\n  return (\r\n    <FadeComponent>\r\n      <div>\r\n        <div className=\"post-headliner\" key={blogposts[0].id}>\r\n          <div className=\"post-container\">\r\n            {headlinerPic != null ? <img src={headlinerPic.awsPicURL} className=\"post-headline-div-picture\" /> : \"\"}\r\n            <div className=\"post-title-div\">\r\n              {/* <span className=\"post-date\">Date: {readableDate(blogposts[0].publishedAt)}</span> */}\r\n              <Link to={`/blog/posts/${blogposts[0].id}`} style={{ textDecoration: \"none\", color: \"inherit\" }}>\r\n                <h2>{blogposts[0].title}</h2>\r\n              </Link>\r\n\r\n              <h3 style={{ fontWeight: 400 }}>{blogposts[0].subtitle}</h3>\r\n              <div className=\"post-tags\">\r\n                Tags:\r\n                {blogposts[0].tags[0] ? (\r\n                  <Link to={`/blog/tags/${blogposts[0].tags[0].id}`} key={blogposts[0].tags[0].id} style={{ marginLeft: 4 }}>\r\n                    {blogposts[0].tags[0].tagName}\r\n                  </Link>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n                ,\r\n                {blogposts[0].tags[1] ? (\r\n                  <Link to={`/blog/tags/${blogposts[0].tags[1].id}`} key={blogposts[0].tags[1].id} style={{ marginLeft: 4 }}>\r\n                    {blogposts[0].tags[1].tagName}\r\n                  </Link>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n                ,\r\n                {blogposts[0].tags[2] ? (\r\n                  <Link to={`/blog/tags/${blogposts[0].tags[2].id}`} key={blogposts[0].tags[2].id} style={{ marginLeft: 4 }}>\r\n                    {blogposts[0].tags[2].tagName}{\" \"}\r\n                  </Link>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </div>\r\n              <ShareButtons />\r\n              <div className=\"post-body\">\r\n                {sampleText(blogposts[0].content)} <Link to={`/blog/posts/${blogposts[0].id}`}>...read more</Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* break between headliner and other latest posts */}\r\n        {/* break between headliner and other latest posts */}\r\n        {/* break between headliner and other latest posts */}\r\n\r\n        <div className=\"post-grid\">\r\n          <div className=\"post-info\">\r\n            <SideNav />\r\n          </div>\r\n          {blogposts\r\n            .filter((post) => post !== blogposts[0])\r\n            .map((blogpost) => {\r\n              let { homePic } = pics(blogpost);\r\n              return (\r\n                <div className=\"post-content\" key={blogpost.id}>\r\n                  <div className=\"post-container\">\r\n                    {homePic != null ? <img src={homePic.awsPicURL} className=\"post-div-picture\" /> : \"\"}\r\n                    <div className=\"post-title-div\">\r\n                      <span className=\"post-date\">Date: {readableDate(blogpost.publishedAt)}</span>\r\n                      <Link to={`/blog/posts/${blogpost.id}`} style={{ textDecoration: \"none\", color: \"inherit\" }}>\r\n                        <h2>{blogpost.title}</h2>\r\n                      </Link>\r\n\r\n                      <h3 style={{ fontWeight: 400 }}>{blogpost.subtitle}</h3>\r\n                      <div className=\"post-tags\">\r\n                        Tags:\r\n                        {blogpost.tags[0] ? (\r\n                          <Link to={`/blog/tags/${blogpost.tags[0].id}`} key={blogpost.tags[0].id} style={{ marginLeft: 4 }}>\r\n                            {blogpost.tags[0].tagName}\r\n                          </Link>\r\n                        ) : (\r\n                          \"\"\r\n                        )}\r\n                        ,\r\n                        {blogpost.tags[1] ? (\r\n                          <Link to={`/blog/tags/${blogpost.tags[1].id}`} key={blogpost.tags[1].id} style={{ marginLeft: 4 }}>\r\n                            {blogpost.tags[1].tagName}\r\n                          </Link>\r\n                        ) : (\r\n                          \"\"\r\n                        )}\r\n                        ,\r\n                        {blogpost.tags[2] ? (\r\n                          <Link to={`/blog/tags/${blogpost.tags[2].id}`} key={blogpost.tags[2].id} style={{ marginLeft: 4 }}>\r\n                            {blogpost.tags[2].tagName}{\" \"}\r\n                          </Link>\r\n                        ) : (\r\n                          \"\"\r\n                        )}\r\n                      </div>\r\n                      <ShareButtons />\r\n                      <div className=\"post-body\">\r\n                        {sampleText(blogpost.content)} <Link to={`/blog/posts/${blogpost.id}`}>...read more</Link>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"post-bottom-border\"></div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n        </div>\r\n      </div>\r\n    </FadeComponent>\r\n  );\r\n};\r\n\r\nexport default Blogposts;\r\n"],"names":["Blogposts","useNavigate","useDispatch","useState","blogposts","useSelector","state","allBlogposts","sampleText","content","DOMPurify","sanitize","split","splice","join","parse","headlinerPic","image","images","position","jsx","FadeComponent","jsxs","awsPicURL","Link","id","textDecoration","color","title","fontWeight","subtitle","tags","marginLeft","tagName","ShareButtons","SideNav","filter","post","map","blogpost","homePic","pics","readableDate","publishedAt"],"mappings":"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"}